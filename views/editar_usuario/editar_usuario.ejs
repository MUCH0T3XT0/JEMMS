<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Usuario</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.0/sweetalert.min.js"></script>
    <%-include('./../style.ejs')%>
    <style>
        .buttonstyle {
            color: white;
            background-color: green;
        }

        .boxstyle {
            background: white;
        }
    </style>
</head>
<body>
    <style>        
        .form-check-input {
            border: 1px solid #000000;
            border-radius: 4px;
            padding: 0.5rem;
        }
        .form-control {
            border: 1px solid #000000;
        }
    </style>
    <%- include('./../barra_principal.ejs')%>
    <div id="id_usuario" data-value="<%=id_usuario%>"></div>
    <div id="id_actual" data-value="<%=id_actual%>"></div>
    <nav class="boton" aria-label="Page navigation example">
        <ul class="pagination">
            <li class="page-item">
            <a class="page-link" style="background-color: rgb(49,108,244); color:white" href="/usuario/mostrar_usuarios" aria-label="Previous"> <span aria-hidden="true">&laquo;</span>Regresar</a>
        </ul>
    </nav>
    <div class="conteiner py-4">
        <div class="row justify-content-center mt-6">
            <div class="col-md-2">
                <div class="text-center">
                    <h3 style="margin-bottom: 0px;">Editar Usuario</h3>
                </div>
            </div>
        </div>
    </div>
    <div id="id_editar" data-value="<%=usuario[0].id_usuario%>"></div>
    <div class="container py-4">
        <form class=" row g-3" action="/usuario/<%=usuario[0].id_usuario%>/editar_usuario" method = "POST">
            <div class="mb-3 row">
                <label for="nombre" class="col-sm-2 col-form-label">Nombre(s)* </label>
                <div class="col-sm-10">
                    <input type= "text" class="form-control" id="nombre" name = "nombre" value="<%= usuario[0].nombres %>">
                    <span id="contadorNombre">0/30</span>
                    <div id="msg_nombre" style="display: none;">
                        <p style="color: red; text-align: right;">Nombre invalido</p>
                    </div>
                </div>
            </div>
            <div class="mb-3 row">
                <label for="apellido_p" class="col-sm-2 col-form-label">Apellido Paterno*</label>
                <div class="col-sm-10">
                    <input type=" text" class="form-control" id="apellido_p" name = "apellido_p" value = "<%= usuario[0].apellido_p %>">
                    <span id="contadorApellido_p">0/15</span>
                    <div id="msg_apellido_p" style="display: none;">
                        <p style="color: red; text-align: right;">Apellido invalido</p>
                    </div>
                </div>
            </div>
            <div class="mb-3 row">
                <label for="apellido_m" class="col-sm-2 col-form-label">Apellido Materno</label>
                    <div class="col-sm-10">
                    <input type="text" class="form-control" id="apellido_m" name = "apellido_m" value = "<%= usuario[0].apellido_m %>">
                    <span id="contadorApellido_m">0/15</span>
                    <div id="msg_apellido_m" style="display: none;">
                        <p style="color: red; text-align: right;">Apellido invalido</p>
                    </div>
                </div>
            </div>
            <div class="mb-3 row">
                <label for="correo" class="col-sm-2 col-form-label">Correo</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="correo" name = "correo" value = "<%= usuario[0].correo %>" readonly>
                </div>
            </div>
            <div class="mb-3 row">
                <label for="contrasena" class="col-sm-2 col-form-label">Contraseña</label>
                <div class="col-sm-10">
                    <div class="input-group">
                        <input type="password" class="form-control" id="contrasena" name = "contrasena" placeholder = "Solo use este campo si va a cambiar la contraseña">
                        <button class="btn btn-outline-secondary" type="button" id="mostrar">Mostrar</button>
                    </div>
                </div>
            </div>
            <div class="mb-3 row">
                <label for="rol" class="col-sm-2 col-form-label">Rol*</label>
                <div class="col-sm-10">
                    <select name="acceso" id="rol" value = "<%= usuario[0].rol%>">
                        <option value="0" >Colaborador</option>
                        <option value="1" >Administrador</option>
                    </select>
                </div>
            </div>
            <div class="row g-3">
                <button type="button" id="ingresar_datos" class="btn btn-primary mb-3">Ingresar Datos</button>
            </div>
            <div id="vacio" style="display: none;">
                <p style="color: red; text-align: right;">Campos vacíos, por favor llenalos todos para continuar</p>
            </div>
        </form>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script src="/usuario/editar_usuario.js"></script>
    <%- include('editar_usuario.js.ejs')%>
    
</body>
</html>